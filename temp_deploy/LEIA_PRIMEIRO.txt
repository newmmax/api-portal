=========================================================
  FC DATA API - INSTRU√á√ïES DE DEPLOY NO SERVIDOR
=========================================================

Esta pasta cont√©m TODOS os arquivos necess√°rios para o deploy.

CONTE√öDO DA PASTA:
==================
‚úì fc-data-api.exe     - Execut√°vel da API (compilado)
‚úì .env               - Configura√ß√£o atual (desenvolvimento)
‚úì .env.producao      - Exemplo para produ√ß√£o (AJUSTE!)
‚úì deploy-seguro/     - Scripts de instala√ß√£o automatizada

‚ö†Ô∏è IMPORTANTE - ANTES DE COME√áAR:
=================================
1. REVISE E AJUSTE O ARQUIVO .env
   - Renomeie .env para .env.backup
   - Renomeie .env.producao para .env
   - EDITE o .env e mude:
     * JWT_SECRET (use uma chave aleat√≥ria forte)
     * ADMIN_PASSWORD (senha forte)
     * Confirme DATABASE_URL est√° correto

2. REQUISITOS NO SERVIDOR:
   - Windows Server 2012+ ou Windows 10/11
   - Executar como ADMINISTRADOR
   - NSSM instalado (baixe de https://nssm.cc se n√£o tiver)
   - Porta 8089 livre
   - Acesso ao PostgreSQL em 10.216.1.16:5432

INSTALA√á√ÉO PASSO A PASSO:
========================
1. Copie esta pasta para C:\ do servidor
   (ficar√° em C:\temp_deploy)

2. Abra o Prompt de Comando como ADMINISTRADOR

3. Navegue at√© a pasta:
   cd C:\temp_deploy\deploy-seguro

4. Execute os scripts NA ORDEM:
   
   a) 01_VALIDACAO_MENU.bat
      - Valida pr√©-requisitos
      - Testa conex√µes
      - N√£o prossiga se houver erros!
   
   b) 02_BACKUP_ATUAL.bat
      - Faz backup de configura√ß√µes
      - Cria script de rollback
   
   c) 03_DEPLOY_PASSO_A_PASSO.bat
      - Instala o servi√ßo Windows
      - Configura recupera√ß√£o autom√°tica
      - Op√ß√£o de configurar Apache
   
   d) 04_VALIDACAO_FINAL.bat
      - Testa se tudo est√° funcionando
      - Gera relat√≥rio

5. Se tudo estiver OK, configure o Apache:
   - Adicione as linhas de proxy no httpd-vhosts.conf
   - Reinicie o Apache

TESTE R√ÅPIDO:
============
Ap√≥s instala√ß√£o, teste:
- http://localhost:8089/services/api1/health
- https://conexao.artesanalfarmacia.com.br/services/api1/health

MONITORAMENTO:
=============
Use MONITOR_TEMPO_REAL.bat para acompanhar em tempo real

SE ALGO DER ERRADO:
==================
1. Execute o script ROLLBACK.bat do backup criado
2. Ou use EMERGENCIA_PARAR_TUDO.bat
3. Verifique logs em C:\fcdata-api\logs\

SUPORTE:
========
- Logs do servi√ßo: C:\fcdata-api\logs\service.log
- Logs de erro: C:\fcdata-api\logs\error.log
- Status: sc query FCDataAPI

BOA SORTE COM O DEPLOY! üöÄ
